"use strict";(self["webpackChunkurKitchen"]=self["webpackChunkurKitchen"]||[]).push([[443],{269:function(t,e,a){a.r(e),a.d(e,{default:function(){return v}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"recipe-box"},[e("h1",{staticClass:"section-title main"},[t._v("Recipe")]),e("section",{ref:"drag-tag",staticClass:"recipe-drag-wrap"},[e("drag",{key:t.dragKey,attrs:{ingredientData:t.ingredientData},on:{searchResult:t.passResult,resetDrag:t.resetDrag}})],1),t.searchResult.status?e("RecipeList",{attrs:{recipeList:t.searchResult.recipes},scopedSlots:t._u([{key:"backTo",fn:function(){return[e("a",{staticClass:"back_to",on:{click:function(e){return t.scrollPageTo("drag-tag")}}},[e("h4",[t._v("Back to "),e("span",[t._v("Search")])])])]},proxy:!0}],null,!1,2486050961)},[e("h2",{ref:"result-tag",staticClass:"section-title"},[t._v("Recipes Search Results:")]),e("h4",[t._v("You got "),e("span",[t._v(t._s(t.searchResult.recipes.length))]),t._v(" Recipes")])]):t._e(),e("section",{staticClass:"recipe-catalog-wrap"},t._l(t.catalogs,(function(a,s){return e("div",{key:s,staticClass:"recipe-catalog-group",class:s},[e("div",{staticClass:"recipe-catalog-group-title-wrap",style:t.bgImg(s+"-title.jpg")},[e("h2",{staticClass:"recipe-catalog-group-title"},[t._v(t._s(t.catalogs[s].title))])]),t._l(t.catalogs[s].data,(function(a,i){return e("router-link",{key:a.Uniq_name,staticClass:"recipe-catalog",class:[t.cataStyle(i)],style:t.bgImg(s+"-"+a.itemID+".jpg"),attrs:{to:`/recipe/catalog/${s}/${a.itemID}/${a.item}`},on:{click:function(e){return t.scrollPageTo("recipe-catalog-tag")}}},[e("p",{staticClass:"recipe-catalog-item"},[t._v(" "+t._s(a.item)+" ")])])}))],2)})),0),e("router-view",{key:t.$route.params.itemID,ref:"recipe-catalog-tag"})],1)},i=[],r=function(){var t=this,e=t._self._c;return e("section",{staticClass:"ingredient_search-box"},[e("h2",{staticClass:"section-title"},[t._v("Find Ur Recipes")]),e("p",{staticClass:"wordings"},[t._v(" Drag and Drop the ingredien to selection box. "),e("br"),t._v("Search Recipes by Ingredients: "),t._l(t.selections,(function(a){return e("span",{key:a,staticClass:"selection_list"},[t._v(" "+t._s(a)+" ")])}))],2),e("div",{staticClass:"recipe-selection",style:t.bgImg("cuttingboard.png"),attrs:{id:"recipe-selection"}},[t._l(3,(function(a){return e("div",{key:"drop-box"+a,staticClass:"igd-dropbox",attrs:{id:"selection-"+a},on:{dragover:function(t){t.preventDefault()},drop:function(e){return e.preventDefault(),t.drop.apply(null,arguments)}}})})),e("div",{staticClass:"igd-drop-button-box",attrs:{ondrop:"drop(event)"}},[e("button",{staticClass:"igd-drop-button search",attrs:{type:"button"},on:{click:t.drag_searchRecipe}},[t._v("Find!")]),e("button",{staticClass:"igd-drop-button reset",attrs:{type:"button"},on:{click:t.ResetSearchResult}},[t._v("Reset")])])],2),t._l(t.formatIngredientData,(function(a,s){return e("div",{key:"foodtype-"+s,staticClass:"drag-ingredient drag-ingredient-wrap"},[e("div",{staticClass:"drag-ingredient-type"},[e("h6",{staticClass:"Head2-foodtype"},[t._v(t._s(t.foodtypeName(s)))])]),e("div",{staticClass:"drag-ingredient-item"},t._l(a,(function(a){return e("div",{key:"ingredient-"+a.itemID,staticClass:"igd-dragbox"},[e("div",{staticClass:"igd-icon",style:t.bgImg(t.FTimageName(a.FTimage)),attrs:{draggable:"true",item:a.item,id:"IGD"+a.itemID},on:{dragstart:t.dragStart,dragover:function(t){t.stopPropagation()}}},[e("p",{staticClass:"igd-icon_font"},[t._v(t._s(a.item))])])])})),0)])}))],2)},n=[],c=(a(7658),{data(){return{count:0,selections:[],searchRecipeResult:{}}},props:{ingredientData:{type:Array}},computed:{formatIngredientData(){return this.groupBy(this.ingredientData,"foodTypeID")}},methods:{foodtypeName(t){return this.foodtype[t-1].item},FTimageName(t){return t.replace("'image/","").replace("'","")},allowDrop(t){t.preventDefault()},dragStart(t){t.dataTransfer.setData("igdID",t.target.id)},drop(t){t.preventDefault();const e=t.dataTransfer.getData("igdID"),a=document.getElementById(e);t.target.appendChild(a),this.selections.push(a.getAttribute("item"))},drag_searchRecipe(){var t={},e=this.selections.length;if(0!==e){for(var a=1;a<4;a++){var s="selection"+a;t[s]=e>=a?this.selections[a-1]:""}this.searchRecipebyIGD(t).then((t=>{this.$emit("searchResult",t)})).catch((t=>{console.dir(t)}))}else alert("Please slect the ingredient/s")},ResetSearchResult(){this.$emit("resetDrag","")}},created:function(){}}),l=c,o=a(1001),g=(0,o.Z)(l,r,n,!1,null,"575851b2",null),d=g.exports,u=a(4491),p={name:"Recipe",components:{Drag:d,RecipeList:u.Z},data:()=>({catalogs:{cuisine:{data:{},title:"Cuisine"},diettype:{data:{},title:"Diet"}},ingredientData:[],searchResult:{status:!1,recipes:[]},dragKey:0}),created:async function(){for(let t in this.catalogs)this.catalogs[t].data=await this.getCatalog({table:t,keyword:"all"});this.ingredientData=await this.getIngredient({table:"Ingredient",keyword:"all",order:"foodtype"})},updated:function(){this.searchResult.status&&this.scrollPageTo("result-tag")},methods:{async searchCatalog(t){return await this.getCatalog({table:t,keyword:"all"})},cataStyle(t){return 0==t||t%4==0||1==t||t%4==1?"w-1x":"w-2x"},passResult(t){201===t.status&&(this.searchResult.status=!0,this.searchResult.recipes=t.data),console.log("res",t),console.log("recipe result",this.searchResult)},resetDrag(t){this.searchResult.recipes=t,this.searchResult.status=!1,this.dragKey+=1}}},h=p,f=(0,o.Z)(h,s,i,!1,null,null,null),v=f.exports}}]);
//# sourceMappingURL=about.706db9e5.js.map