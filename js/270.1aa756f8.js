"use strict";(self["webpackChunkurKitchen"]=self["webpackChunkurKitchen"]||[]).push([[270],{4270:function(e,t,s){s.r(t),s.d(t,{default:function(){return R}});var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"rummage-box"},[t("h1",{staticClass:"section-title main"},[e._v("Rummage")]),t("section",{ref:"dragTag",staticClass:"recipe-drag-wrap"},[t("DragRM",{key:e.dragKey,attrs:{ingredientData:e.userIngredientStockData},on:{searchResult:e.passResult,resetDrag:e.resetDrag}})],1),e.serchResultRecipes.length?t("RecipeList",{attrs:{recipeList:e.serchResultRecipes},scopedSlots:e._u([{key:"backTo",fn:function(){return[t("a",{staticClass:"back_to",on:{click:function(t){return e.scrollPageTo("dragTag")}}},[t("h4",[e._v("Back to "),t("span",[e._v("Search")])])])]},proxy:!0}],null,!1,3077784860)},[t("h2",{ref:"resultTag",staticClass:"section-title"},[e._v("Recipes Search Results:")]),t("h4",[e._v("You got "),t("span",[e._v(e._s(e.serchResultRecipes.length))]),e._v(" Recipes")])]):e._e()],1)},r=[],i=function(){var e=this,t=e._self._c;return t("section",{staticClass:"ingredient_search-box"},[t("h2",{staticClass:"section-title"},[e._v("Find Ur Recipes")]),t("p",{staticClass:"wordings"},[e._v(" Drag and Drop the ingredien to selection box. "),t("br"),e._v("Search Recipes by Ingredients: "),e._l(e.selections,(function(s){return t("span",{key:s,staticClass:"selection_list"},[e._v(" "+e._s(s)+" ")])}))],2),t("div",{staticClass:"recipe-selection",style:e.bgImg("cuttingboard.png"),attrs:{id:"recipe-selection"}},[e._l(3,(function(s){return t("div",{key:"drop-box"+s,staticClass:"igd-dropbox",attrs:{id:"selection-"+s},on:{dragover:function(e){e.preventDefault()},drop:function(t){return t.preventDefault(),e.drop.apply(null,arguments)}}})})),t("div",{staticClass:"igd-drop-button-box",attrs:{ondrop:"drop(event)"}},[t("button",{staticClass:"igd-drop-button search",attrs:{type:"button"},on:{click:e.drag_searchRecipe}},[e._v("Find!")]),t("button",{staticClass:"igd-drop-button reset",attrs:{type:"button"},on:{click:e.ResetSearchResult}},[e._v("Reset")])])],2),e._l(e.formatIngredientData,(function(s,a){return t("div",{key:"foodtype-"+a,staticClass:"drag-ingredient drag-ingredient-wrap"},[t("div",{staticClass:"drag-ingredient-type"},[t("h6",{staticClass:"Head2-foodtype"},[e._v(e._s(e.foodtypeName(a)))])]),t("div",{staticClass:"drag-ingredient-item"},e._l(s,(function(s){return t("div",{key:"stock-ingredient-"+s.SDID,staticClass:"igd-dragbox"},[t("div",{staticClass:"igd-icon",style:e.bgImg(e.FTimageName(s.IGDImage)),attrs:{draggable:"true",item:s.IngredientID,id:"stockIGD"+s.SDID},on:{dragstart:e.dragStart,dragover:function(e){e.stopPropagation()}}},[t("p",{staticClass:"igd-icon_font"},[e._v(e._s(s.IngredientID))])])])})),0)])}))],2)},n=[],c=(s(7658),{data(){return{count:0,selections:[],searchRecipeResult:{}}},props:{ingredientData:{type:Array}},computed:{formatIngredientData(){return this.groupBy(this.ingredientData,"foodtypeID")}},methods:{foodtypeName(e){return this.foodtype[e-1].item},FTimageName(e){return e.replace("'image/","").replace("'","")},allowDrop(e){e.preventDefault()},dragStart(e){e.dataTransfer.setData("igdID",e.target.id)},drop(e){e.preventDefault();const t=e.dataTransfer.getData("igdID"),s=document.getElementById(t);e.target.appendChild(s),this.selections.push(s.getAttribute("item"))},drag_searchRecipe(){var e={},t=this.selections.length;if(0!==t){for(var s=1;s<4;s++){var a="selection"+s;e[a]=t>=s?this.selections[s-1]:""}this.searchRecipebyIGD(e).then((e=>{console.log("res",e),this.$emit("searchResult",e)})).catch((e=>{console.dir(e)}))}else alert("Please slect the ingredient/s")},ResetSearchResult(){this.$emit("resetDrag","")}},created:function(){}}),o=c,l=s(1001),d=(0,l.Z)(o,i,n,!1,null,"3934b038",null),u=d.exports,g=s(4491),p={name:"Recipe",components:{DragRM:u,RecipeList:g.Z},data:()=>({userIngredientStockData:[],serchResultRecipes:{},serchResultStatus:!1,dragKey:0}),created:async function(){this.userIngredientStockData=await this.getUserStockIGD({userID:this.userID})},updated:function(){this.serchResultRecipes.length&&this.scrollPageTo("resultTag")},methods:{passResult(e){"201"===e.status&&(this.serchResultStatus=!0),this.serchResultRecipes=e.data},resetDrag(e){this.serchResultRecipes=e,this.dragKey+=1}}},h=p,f=(0,l.Z)(h,a,r,!1,null,null,null),R=f.exports}}]);
//# sourceMappingURL=270.1aa756f8.js.map